# Описание
Шаблон проекта PHP на фреймворке Laravel с использованием технологии контейнеризации [Docker](https://www.docker.com/). Этот шаблон призван облегчить развертывание проекта на сервере. 

Одновременно шаблон предоставляет возможность для удобной разработки без необходимости пересобирать контейнеры при изменениях в проекте.
- [Состав-проекта](#состав-проекта)
- [Требования](#требования-к-серверу-(vps))
- [Инструкция по развертыванию](#инструкция-по-развертыванию)
- [Установка дополнительных пакетов](#Установка-дополнительных-пакетов)
- [Монтирование](#Монтирование)
## Состав проекта
- BackEnd PHP-FPM 
- Queue 
- Scheduller
- Nginx
- MySql
- Certbot
## Требования к серверу (VPS)
- Наличие 10+ Гб места на диске (предпочтительно 20 Гб)
- 1.5 Гб оперативной памяти (предпочтительно 2+ Гб)
## Инструкция по развертыванию 
- Создать файл `.env` и заполнить его в соответствии с `.env.example`
- Создать файл `./backend/.env` и заполнить его в соответствии с `./backend/.env.example`
- Правка домена data/nginx/app.conf     
`example.com на YOUR_DOMAIN `
- Генерация  SSL сертификата и запуск контейнеров  
`make run DOMAIN=YOUR_DOMAIN EMAIL=YOUR_EMAIL`
- Генерация ключа приложения    
`make key`
- Установка зависимостей backend    
 `make install`
- Миграция базы данных  
`make migrate`
## Установка дополнительных пакетов
Для доустановки пакетов можно подключиться к одному из запущенных контейнеров c образом PHP-FPM     
`docker-compose exec queue /bin/bash`         

Внутри контейнера есть установленный `composer` , поэтому пакеты можно ставить привычным образом через `composer require`
## Монтирование
Проект помещен в контейнеры путем монтирования с файловой системой контейнеров (в файле `docker-compose.yaml`).     
Также в корневую папку logs вынесены логи из контейнеров
